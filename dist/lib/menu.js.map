{"version":3,"file":"menu.js","sourceRoot":"","sources":["../../src/lib/menu.ts"],"names":[],"mappings":"AAAA,OAAO,QAAQ,MAAM,UAAU,CAAC;AAChC,OAAO,eAAe,CAAC;AAEvB,OAAO,EAAC,WAAW,EAAE,WAAW,EAAE,UAAU,EAAE,MAAM,YAAY,CAAC;AAEjE,IAAI,WAAW,GAAG,KAAK,CAAC;AAExB,MAAM,CAAC,KAAK,UAAU,OAAO;IACzB,MAAM,UAAU,GAAG,MAAM,WAAW,EAAE,CAAC;IACvC,MAAM,EAAC,OAAO,EAAE,IAAI,EAAE,OAAO,EAAC,GAAG,MAAM,QAAQ,CAAC,MAAM,CAAC;QACnD;YACI,OAAO,EAAE,qCAAqC;YAC9C,IAAI,EAAE,SAAS;YACf,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;gBAChC,OAAO;oBACH,IAAI,EAAE,OAAO,CAAC,SAAS;oBACvB,KAAK,EAAE,OAAO,CAAC,EAAE;iBACpB,CAAA;YACL,CAAC,CAAC;SACL;QACD;YACI,OAAO,EAAE,qBAAqB;YAC9B,IAAI,EAAE,MAAM;YACZ,IAAI,EAAE,OAAO;SAChB;QACD;YACI,OAAO,EAAE,wBAAwB;YACjC,IAAI,EAAE,SAAS;YACf,IAAI,EAAE,OAAO;SAChB;KACJ,CAAC,CAAC;IAEH,MAAM,UAAU,CAAC,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;AAE7C,CAAC;AAGD,MAAM,CAAC,KAAK,UAAU,YAAY;IAC9B,MAAM,aAAa,GAAG,MAAM,WAAW,EAAE,CAAC;IAC1C,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;AAEjC,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,YAAY;IAE9B,IAAI,CAAC,WAAW,EAAE,CAAC;QACf,OAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;QACvD,WAAW,GAAG,IAAI,CAAC;IACvB,CAAC;IAGD,MAAM,UAAU,GAAG,MAAM,QAAQ,CAAC,MAAM,CAAC;QACrC,OAAO,EAAE,yBAAyB;QAClC,IAAI,EAAE,gBAAgB;QACtB,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE;YACL;gBACI,IAAI,EAAE,gBAAgB;gBACtB,KAAK,EAAE,YAAY;aACtB;YACD;gBACI,IAAI,EAAE,WAAW;gBACjB,KAAK,EAAE,OAAO;aACjB;YACD;gBACI,IAAI,EAAE,MAAM;gBACZ,KAAK,EAAE,CAAC;aACX;SACJ;KACJ,CAAC,CAAC;IAEH,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC;QAC7B,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;QAChD,OAAO,CAAC,IAAI,EAAE,CAAC;IACnB,CAAC;IACD,MAAM,UAAU,CAAC,cAAc,EAAE,CAAC;IAElC,YAAY,EAAE,CAAC;AAEnB,CAAC;AAED,mBAAmB;AACnB,6BAA6B;AAC7B,sBAAsB;AACtB,aAAa;AACb,wBAAwB;AACxB,uBAAuB;AACvB,sBAAsB;AACtB,aAAa;AACb,IAAI","sourcesContent":["import inquirer from 'inquirer';\r\nimport 'console.table';\r\n\r\nimport {getAllShops, getAllUsers, createShop } from './query.js';\r\n\r\nlet showWelcome = false;\r\n\r\nexport async function addShop() {\r\n    const usersArray = await getAllUsers();\r\n    const {user_id, name, address} = await inquirer.prompt([\r\n        {\r\n            message: 'Please select the owner of the shop',\r\n            name: 'user_id',\r\n            type: 'list',\r\n            choices: usersArray.map((userObj) => {\r\n                return {\r\n                    name: userObj.user_name,\r\n                    value: userObj.id\r\n                }\r\n            })\r\n        },\r\n        {\r\n            message: 'Enter the shop name',\r\n            name: 'name',\r\n            type: 'input'\r\n        },\r\n        {\r\n            message: 'Enter the shop address',\r\n            name: 'address',\r\n            type: 'input' \r\n        }\r\n    ]);\r\n\r\n    await createShop(user_id, name, address);\r\n    \r\n}\r\n\r\n\r\nexport async function showAllShops() {\r\n    const shopRowArrays = await getAllShops();\r\n    console.table(shopRowArrays);\r\n\r\n}\r\n\r\nexport async function showMainMenu() {\r\n\r\n    if (!showWelcome) {\r\n        console.log('\\n----- Welcome to the Shop App -----\\n');\r\n        showWelcome = true;\r\n    }\r\n\r\n\r\n    const answersObj = await inquirer.prompt({\r\n        message: 'Please select an option',\r\n        name: 'optionFunction',\r\n        type: 'list',\r\n        choices: [\r\n            {\r\n                name: 'Show all Shops',\r\n                value: showAllShops\r\n            },\r\n            {\r\n                name: 'Add Shops',\r\n                value: addShop\r\n            },\r\n            {\r\n                name: 'Quit',\r\n                value: 0\r\n            },\r\n        ]\r\n    });\r\n\r\n    if (!answersObj.optionFunction) {\r\n        console.log('\\nThanks for usign the shop app!');\r\n        process.exit();\r\n    }\r\n    await answersObj.optionFunction();\r\n\r\n    showMainMenu();\r\n\r\n}\r\n\r\n// switch(option) {\r\n//     case 'Show All Shops':\r\n//     showAllShops();\r\n//     break;\r\n//     case 'Add Shops':\r\n//     await addShop();\r\n//     showMainMenu();\r\n//     break;\r\n// }"]}